# База данных для системы складского учета в прокате шоу оборудования


![Текущая схема](/img/show_rent.png)

[Визуализация схемы](https://dbdiagram.io/d/Show-Rent-67e2887a75d75cc84460bcfc)


## Назначение:

Система предназначена для учета оборудования, которое сдается в аренду на мероприятия. 
Она позволяет отслеживать наличие оборудования, его состояние, а также управлять процессом аренды. 

## Описание бизнес-процесса выполнения заказа:
1. **Создание заказа**: Заказ создается на основе запроса клиента. В заказе указываются все необходимые детали, такие как дата начала и окончания аренды, список оборудования и услуг, которые требуются клиенту.
2. **Проверка наличия оборудования**: Система проверяет наличие запрашиваемого оборудования на складе. Если оборудование доступно, оно резервируется для клиента. Если оборудование недоступно, система уведомляет об этом менеджера и предлагает альтернативные замены.
3. **Расчет стоимости**: Система рассчитывает стоимость аренды на основе выбранного оборудования, сроков аренды, услуг. На основании физических размеров, веса, объёма, упаковки система рассчитывает транспорт, необходимый персонал, время на монтаж.
4. **Внесение предоплаты**: Клиент вносит предоплату за аренду. Система фиксирует платеж и обновляет статус заказа.
5. **Подготовка оборудования**: Система создает задание на подготовку оборудования. Сотрудники склада подготавливают оборудование к отправке, проверяют его состояние и комплектность. Если оборудование требует ремонта или профилактики, система уведомляет об этом сервисный отдел.
6. **Отгрузка оборудования**: После подготовки оборудования, в рассчитанные сроки, оно отгружается клиенту. Система фиксирует отгрузку и обновляет статус заказа.
7. **Монтаж оборудования**: Сотрудники монтажной группы выполняют установку оборудования на месте проведения мероприятия.
8. **Заявки на сервис**: Если в процессе монтажа оборудования возникают неисправности, недочеты сотрудники могут создать заявку на сервис.
9. **Работа на мероприятии**: Система фиксирует работу оборудования на мероприятии. ( смена статуса, фиксация времени работы персонала, оборудования)
10. **Возврат оборудования**: После завершения мероприятия, оборудование может вернуться на склад или поехать на другое мероприятие. При этом уточняется его состояние, остаток, необходимость ремонта или профилактики. Система фиксирует возврат оборудования и обновляет статус заказа.
11. **Закрытие заказа**: После завершения всех работ, система закрывает заказ. Все расходы, доходы и другие детали фиксируются в системе. Система генерирует отчет, начисляет зарплату сотрудникам, премии менеджерам.


## Система включает в себя следующие основные сущности:

- **Продукт**: Центральная сущность, представляющая предмет каталога, которая включает типы:
  - **Оборудование**: Физическая единица, которая может быть арендована. 
  - **Расходный материал**: Элемент, который может быть арендован, но не обязателен к возврату после аренды (например, жидкости которые едут в приборе).
  - **Комплект**: Виртуальная единица, которая может состоять из нескольких продуктов.
  - **Услуга**: Услуга, которая может быть предоставлена клиенту (например, установка, монтаж).

- **Документы управления остатками**:
  - **Инвентаризация**: Документ, который позволяет проверить фактическое наличие оборудования на складе. И зафиксировать корректное текущее количество.
  - **Приход**: Документ хозяйственной операции, который фиксирует поступление оборудования на склад.( покупка, внесение начальных остатков)
  - **Расход**: Документ хозяйственной операции, который фиксирует списание оборудования со склада ( продажа, утеря, списание по причине неисправности)
  - **Перемещение**: Документ, который фиксирует перемещение оборудования между складами.

- **Документы сервиса оборудования**: Документ, который фиксирует сервисные работы над оборудованием. 
  - **Ремонт**: Документ, который фиксирует ремонт оборудования.
  - **Профилактика**: Документ, который фиксирует профилактические работы над оборудованием.

- **Заказ клиента**: Сущность которая фиксирует заказ клиента на услуги аренды оборудования и является основой для учета процесса аренды. Включает дочерние сущности:
    - **Контрагент**: Контрагент, с которым был заключен договор на выполнение заказа. Включает в себя информацию о контрагенте, его реквизиты и другие детали.
    - **Продукты**: Список продуктов, которые были заказаны клиентом.( может содержать элементы из каталога, строки, разделители на группы ( для формирования комплекта))
    - **Персонал**: Список сотрудников, которые были задействованы в выполнении заказа.
    - **Расходы**: Список расходов, которые были понесены в процессе выполнения заказа.
    - **Платежи**: Список платежей, которые были произведены клиентом в процессе выполнения заказа.
    - **Договор**: Договор, который был заключен с клиентом на выполнение заказа. Включает в себя условия аренды, стоимость и другие детали.
    - **Счет**: Счет, который был выставлен клиенту на оплату заказа. Включает в себя сумму, дату и другие детали.

- **Склад**: Включает в себя информацию о местоположении склада, его адресе и другие детали.
- **Сотрудник**: Сущность которая фиксирует информацию о сотрудниках компании. Может быть задействован в выполнении заказа, может быть ответственным за склад, а также может быть задействован в сервисных работах над оборудованием. Сотрудник может иметь аккаунт в системе, или нет

## Отчеты которые можно получить из системы:
- Отчет по остаткам оборудования / расходных материалов на складе
- История движений оборудования
- Управленческие отчеты в разрезе оборудования, контрагентов, заказов
- Графики по движению оборудования ( календарь аренды)
- Отчет по сервисным работам над оборудованием

## Проблемы, которые решает система:
- Учет оборудования на складе
- Отражение движения оборудования на всех стадиях выполнения заказа
- Расчет окупаемости оборудования с учетом всех затрат ( включая амортизацию)
- Система не даст отгрузить оборудование, если оно находится в ремонте, находится в другом заказе
- Учет всех расходов, связанных с выполнением заказа
